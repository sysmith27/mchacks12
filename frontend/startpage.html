<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breadding of the Century</title>
    <link rel="stylesheet" href="startpage.css">
</head>
<body>
    <div class="start-page-container">
        <div class="logo-container">
            <img class="img" src="../images/mchacks-logo.png">
        </div>
        <div class="start-elements-container">
            <div class="button-container-play">
                <a href="toastchoice.html">
                    <button type="button" id="button">
                        <img class="img" src="../images/Play.png">
                    </button>
                </a>
            </div>
            <div class="button-container-mute">
                <button type="button" id="mute-button">
                    <img class="img" src="../images/Volume-mute.png" id="mute-icon">
                </button>
            </div>
        </div>
    </div>

    <audio id="background-music" muted loop>
        <source src="../images/breadsong.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>

    <script>
        const muteButton = document.getElementById('mute-button');
        const audio = document.getElementById('background-music');
        const muteIcon = document.getElementById('mute-icon');
        
        let hasStarted = false;

        muteButton.addEventListener('click', function() {

        /*window.onload = function() {
            audio.play().catch((error) => {
                console.log("Autoplay failed:", error);
            });
        };*/
            if (!hasStarted) {
                // Start playing the audio on the first user interaction
                audio.play().then(() => {
                hasStarted = true;
                }).catch((error) => {
                    console.error("Audio playback failed:", error);
                });
            }

            // Toggle mute/unmute
            if (audio.muted) {
                audio.muted = false;
                muteIcon.src = '../images/Volume-on.png'; // Change to "volume on" icon
            } else {
                audio.muted = true;
                muteIcon.src = '../images/Volume-mute.png'; // Change to "volume mute" icon
            }
         });
    </script>
</body>
</html>